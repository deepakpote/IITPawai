
<div class="gradient bottom-shadow">
    <div class="content-top-box">
        <div class="font-title pad5B">Select Category</div>
        <div class="row">
            <div ng-repeat="contentType in contentTypeList">
                <div class="col-md-3">
                    <div class="card card-radio-selection">
                        <div ng-class="isContentTypeSelected(contentType.codeID) ? 'selected-card':'unselected-card'" ng-click="contentTypeOnClick(contentType.codeID)">
                            <div class="card-content card-icon">
                                <i class="material-icons" style="font-size:48px;">{{contentType.icon}}</i>
                            </div>
                            <div class="card-action">
                                {{contentType.codeNameEn}}
                            </div>
                        </div>
                    </div>
                </div><div class="col-md-1"></div>
            </div>
        </div>
    </div>
</div>


<div ng-if="isContentTypeTeachingAid() || isContentTypeSelfLearning()">
    <form name="frmContentUpload" novalidate>
        <div class="upload-container">
            <div class="no-padding-container">
                <div class="upload-title" style="margin-top:50px;">Content Details</div>
                <div class="col-md-3" ng-if="isContentTypeTeachingAid()">
                    <div class="card">
                        <div class="options-card" ng-mouseenter=setSelectedOption("Subject") ng-mouseleave=setSelectedOption("Subject") >
                            <div class="card-content">
                                Subject
                            </div>
                            <div class="card-select" ng-class="($parent.content.subjectCodeID?'orange-background':'teal-background')">
                <span ng-if="$parent.content.subjectCodeID" ng-repeat="subject in subjectList | filter:{codeID : $parent.content.subjectCodeID}">
                  {{subject.codeNameEn}}
                </span>
                                <span ng-if="!$parent.content.subjectCodeID">
                  Select
                </span>
                            </div>
                            <div class="card-action" ng-show="(selectedOption == 'Subject')">
                                <div ng-repeat="subject in subjectList">
                                    <div>
                                        <div class="col-md-9 no-padding align-left">
                                            {{subject.codeNameEn}}
                                        </div>
                                        <div class="col-md-3 align-right no-padding" >
                                            <input type="radio" ng-model="$parent.content.subjectCodeID" ng-click = "showContentObject()" ng-value="subject.codeID" name="subject" ng-required="!($parent.content.subjectCodeID)" />
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <br />
                    <div ng-messages="frmContentUpload.subject.$error" ng-if="frmContentUpload.subject.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.subject.$error.required">Please select a subject.</span>
                    </div>
                    
                    <div class="card">
                        <div class="options-card" ng-mouseenter=setSelectedOption("ContentType") ng-mouseleave=setSelectedOption("ContentType") >
                            <div class="card-content">
                                ContentType
                            </div>
                            <div class="card-select" ng-class="($parent.content.fileTypeCodeID?'orange-background':'teal-background')">
                <span ng-if="$parent.content.fileTypeCodeID" ng-repeat="fileType in fileTypeList | filter:{codeID : $parent.content.fileTypeCodeID}">
                  {{fileType.codeNameEn}}
                </span>
                                <span ng-if="!$parent.content.fileTypeCodeID">
                  Select
                </span>
                            </div>
                            <div class="card-action" ng-show="(selectedOption == 'ContentType')">
                                <div ng-repeat="fileType in fileTypeList">
                                    <div>
                                        <div class="col-md-9 no-padding align-left">
                                            {{fileType.codeNameEn}}
                                        </div>
                                        <div class="col-md-3 align-right no-padding" >
                                            <input type="radio" ng-model="$parent.content.fileTypeCodeID" ng-click = "showContentObject()" ng-value="fileType.codeID" name="fileType" ng-required="!($parent.content.fileTypeCodeID)" />
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <br />
                    <div ng-messages="frmContentUpload.fileType.$error" ng-if="frmContentUpload.fileType.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.fileType.$error.required">Please select a content Type.</span>
                    </div>
                    <br />
                </div>
                <div class="col-md-1" ng-if="isContentTypeTeachingAid()"></div>

                <div class="col-md-3" ng-if="isContentTypeTeachingAid()">
                    <!--<div class="card">-->
                        <!--<div class="options-card" ng-mouseenter=setSelectedOption("Grade") ng-mouseleave=setSelectedOption("Grade") >-->
                            <!--<div class="card-content">-->
                                <!--Grade-->
                            <!--</div>-->
                            <!--<div class="card-select" ng-class="(((gradeList | filter:{checked:true}).length > 0)?'orange-background':'teal-background')" >-->
                                <!--{{displayGradesString}}-->
                                <!--<span ng-if="!((gradeList | filter:{checked:true}).length > 0)">-->
                                    <!--Select-->
                                  <!--</span>-->
                            <!--</div>-->
                            <!--<div class="card-action" ng-show="(selectedOption == 'Grade')">-->
                                <!--<div ng-repeat="grade in gradeList">-->
                                    <!--<div>-->
                                        <!--<div class="col-md-9 no-padding align-left">-->
                                            <!--{{grade.codeNameEn}}-->
                                        <!--</div>-->
                                        <!--<div class="col-md-3 align-right no-padding" >-->
                                            <!--<input type="checkbox" ng-model="grade.checked" ng-click = "showContentObject()"-->
                                                   <!--name="grades" ng-required="!($parent.content.gradeCodeIDs)"/>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                    <div class="card">
                        <div class="options-card" ng-mouseenter=setSelectedOption("Grade")
                             ng-mouseleave=setSelectedOption("Grade")>
                            <div class="card-content">
                                Grade
                            </div>
                            <div class="card-select"
                                 ng-class="($parent.content.gradeCodeIDs?'orange-background':'teal-background')">
                              <span ng-if="$parent.content.gradeCodeIDs"
                                    ng-repeat="grade in gradeList | filter:{codeID : $parent.content.gradeCodeIDs}">
                                {{grade.codeNameEn}}
                              </span>
                                <span ng-if="!$parent.content.gradeCodeIDs">
                                Select
                              </span>
                            </div>
                            <div class="card-action" ng-show="(selectedOption == 'Grade')">
                                <div ng-repeat="grade in gradeList">
                                    <div>
                                        <div class="col-md-9 no-padding align-left">
                                            {{grade.codeNameEn}}
                                        </div>
                                        <div class="col-md-3 align-right no-padding" >
                                            <input type="radio" ng-model="$parent.content.gradeCodeIDs"
                                                   ng-click = "showContentObject()" ng-value="grade.codeID"
                                                   name="grade" ng-required="!($parent.content.gradeCodeID)"/>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div ng-messages="frmContentUpload.grades.$error" ng-if="frmContentUpload.grades.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.grades.$error.required">Please select at least one grade.</span>
                    </div>


                    <div class="card" ng-if="isContentTypeTeachingAid()">
                        <div class="options-card" ng-mouseenter=setSelectedOption("Requirement") ng-mouseleave=setSelectedOption("Requirement")>
                            <div class="card-content">
                                Classroom Requirements
                            </div>
                            <div class="card-select" ng-class="(((requirementList | filter:{checked:true}).length > 0)?'orange-background':'teal-background')">
                                {{displayRequirementsString}}
                                <span ng-if="!((requirementList | filter:{checked:true}).length > 0)">
                    Select
                  </span>
                            </div>
                            <div class="card-action" ng-show="(selectedOption == 'Requirement')">
                                <div ng-repeat="requirement in requirementList">
                                    <div>
                                        <div class="col-md-9 no-padding align-left">
                                            {{requirement.codeNameEn}}
                                        </div>
                                        <div class="col-md-3 align-right no-padding" >
                                            <input type="checkbox" ng-model="requirement.checked" ng-click = "showContentObject()"
                                                   name="requirements" ng-required="!($parent.content.requirementCodeIDs)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <br />

                    <div ng-messages="frmContentUpload.requirements.$error" ng-if="frmContentUpload.requirements.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.requirements.$error.required">Please select at least one requirement.</span>
                    </div>
                    <br />


                </div>

                <div class="col-md-1" ng-if="isContentTypeTeachingAid()"></div>




                <div class="col-md-3">
                    <div class="card" ng-if="isContentTypeTeachingAid()">
                        <div class="options-card" ng-mouseenter=setSelectedOption("Chapter")
                             ng-mouseleave=setSelectedOption("")>
                            <div class="card-content">
                                Chapter
                            </div>
                            <div ng-show="isGradeAndSubjectSelected">
                                <div class="card-select"
                                     ng-class="($parent.content.chapterID?'orange-background':'teal-background')">
                                  <span ng-if="$parent.content.chapterID"
                                        ng-repeat="chapter in chapterList | filter:{chapter : $parent.content.chapterID} : true">
                                    {{chapter.chapterEng}}
                                  </span>
                                    <span ng-if="!$parent.content.chapterID">
                                        Select
                                    </span>
                                </div>
                                <div class="card-action" ng-show="(selectedOption == 'Chapter')">
                                    <div ng-repeat="chapter in chapterList">
                                        <div>
                                            <div class="col-md-9 no-padding align-left">
                                                {{chapter.chapterEng}}
                                            </div>
                                            <div class="col-md-3 align-right no-padding" >
                                                <input type="radio" ng-model="$parent.content.chapterID"
                                                       ng-click = "showContentObject()" ng-value="chapter.chapter"
                                                       name="chapter" ng-required="!($parent.content.chapterID)"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-hide="isGradeAndSubjectSelected">
                                <div class="card-select" style="color: red;font-size: 12px;">
                                    Please select grade and subject.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-messages="frmContentUpload.chapter.$error" ng-if="frmContentUpload.chapter.$dirty">
                        <br>
                        <span class="error-message" ng-show="frmContentUpload.chapter.$error.required">Please select a chapter.</span>
                    </div>
                    <br>
                    <div class="card">
                        <div class="options-card" ng-mouseenter=setSelectedOption("Language") ng-mouseleave=setSelectedOption("Language")>
                            <div class="card-content">
                                Language
                            </div>
                            <div class="card-select" ng-class="($parent.content.contentLanguageCodeID?'orange-background':'teal-background')">
                              <span ng-if="$parent.content.contentLanguageCodeID" ng-repeat="language in languageList | filter:{codeID : $parent.content.contentLanguageCodeID}">
                                {{language.codeNameEn}}
                              </span>
                                            <span ng-if="!$parent.content.contentLanguageCodeID">
                                Select
                              </span>
                            </div>
                            <div class="card-action" ng-show="(selectedOption == 'Language')">
                                <div ng-repeat="language in languageList">
                                    <div>
                                        <div class="col-md-9 no-padding align-left">
                                            {{language.codeNameEn}}
                                        </div>
                                        <div class="col-md-3 align-right no-padding" >
                                            <input type="radio"
                                                   ng-model="$parent.content.contentLanguageCodeID"
                                                   ng-click = "showContentObject()" ng-value="language.codeID"
                                                   name="language" ng-required="!($parent.content.contentLanguageCodeID)"/>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div ng-messages="frmContentUpload.language.$error" ng-if="frmContentUpload.language.$dirty">
                        <span class="error-message"
                              ng-show="frmContentUpload.language.$error.required">Please select a language.</span>
                    </div>
                    <br />
                </div>

                <div class="col-md-1"></div>

                <div class="col-md-3" ng-if="isContentTypeSelfLearning()">
                    <br>
                    <div class="card">
                        <div class="options-card" ng-mouseenter=setSelectedOption("Topic") ng-mouseleave=setSelectedOption("Topic")>
                            <div class="card-content">
                                Topic
                            </div>
                            <div class="card-select" ng-class="($parent.content.topicCodeID?'orange-background':'teal-background')">
                  <span ng-if="$parent.content.topicCodeID" ng-repeat="topic in topicList | filter:{codeID : $parent.content.topicCodeID}">
                    {{topic.codeNameEn}}
                  </span>
                                <span ng-if="!$parent.content.topicCodeID">
                    Select
                  </span>
                            </div>
                            <div class="card-action" ng-show="(selectedOption == 'Topic')">
                                <div ng-repeat="topic in topicList">
                                    <div>
                                        <div class="col-md-9 no-padding align-left">
                                            {{topic.codeNameEn}}
                                        </div>
                                        <div class="col-md-3 align-right no-padding" >
                                            <input type="radio" ng-model="$parent.content.topicCodeID" ng-click = "showContentObject()" ng-value="topic.codeID" name="topic" ng-required="!($parent.content.topicCodeID)"/>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div ng-messages="frmContentUpload.topic.$error" ng-if="frmContentUpload.topic.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.topic.$error.required">Please select a topic.</span>
                    </div>
                    <br />

                </div>
                <div class="col-md-1" ng-if="isContentTypeSelfLearning()"></div>
            </div>
        </div>

        <div class = "hr"> </div>

        <!-- Form entries below options -->


        <div class="upload-container" >

            <div class="col-md-8">
                <div class="upload-title no-padding">Content Title</div>
                <div class="form-group" ng-class="{'has-error': frmContentUpload.engContentTitle.$dirty && frmContentUpload.engContentTitle.$invalid}">
                    <input type="text" class="form-control" id="engContentTitle" name="engContentTitle" placeholder="English"
                           ng-model="content.engContentTitle" required />
                    <div ng-messages="frmContentUpload.engContentTitle.$error" ng-if="frmContentUpload.engContentTitle.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.engContentTitle.$error.required">Please enter English content title</span>
                    </div>
                </div>


                <div class="form-group" ng-class="{'has-error': frmContentUpload.marContentTitle.$dirty && frmContentUpload.marContentTitle.$invalid}">
                    <input type="text" class="form-control" id="marContentTitle" name="marContentTitle" placeholder="मराठी"
                           ng-model="content.marContentTitle" required />
                    <div ng-messages="frmContentUpload.marContentTitle.$error" ng-if="frmContentUpload.marContentTitle.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.marContentTitle.$error.required">Please enter Marathi content title</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4" style="text-align:right">
                Kindly enter all fields in English and Marathi. <br />
                Use <a target="_blank" href = "https://translate.google.com/?hl=mr" class="primary-text-color"> Google translate </a>
            </div>


        </div>

        <div class = "hr"> </div>
        <div class="upload-container">
            <div class="upload-title">Author Name</div>
            <div class="col-md-8">
                <div class="form-group" ng-class="{'has-error': frmContentUpload.engAuthor.$dirty && frmContentUpload.engAuthor.$invalid}">
                    <input type="text" class="form-control" id="engAuthor" name="engAuthor" placeholder="English"
                           ng-model="content.engAuthor" required />
                    <div ng-messages="frmContentUpload.engAuthor.$error" ng-if="frmContentUpload.engAuthor.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.engAuthor.$error.required">Please enter author's name in English</span>
                    </div>
                </div>


                <div class="form-group" ng-class="{'has-error': frmContentUpload.marAuthor.$dirty && frmContentUpload.marAuthor.$invalid}">
                    <input type="text" class="form-control" id="marAuthor" name="marAuthor" placeholder="मराठी"
                           ng-model="content.marAuthor" required />
                    <div ng-messages="frmContentUpload.marAuthor.$error" ng-if="frmContentUpload.marAuthor.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.marAuthor.$error.required">Please enter author's name in Marathi</span>
                    </div>
                </div>
            </div>
        </div>

        <div class = "hr"> </div>
        <div class="upload-container">
            <div class="upload-title">Content Description / Instruction</div>
            <div class="col-md-8">
                <div class="form-group" ng-class="{'has-error': frmContentUpload.engInstruction.$dirty && frmContentUpload.engInstruction.$invalid}">
     <textarea form="frmContentUpload" class="form-control" id="engInstruction" name="engInstruction" placeholder="English"
               ng-model="content.engInstruction" required ></textarea>
                    <div ng-messages="frmContentUpload.engInstruction.$error" ng-if="frmContentUpload.engInstruction.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.engInstruction.$error.required">Please enter English instruction</span>
                    </div>
                </div>


                <div class="form-group" ng-class="{'has-error': frmContentUpload.marInstruction.$dirty && frmContentUpload.marInstruction.$invalid}">
    <textarea form="frmContentUpload" class="form-control" id="marInstruction" name="marInstruction" placeholder="मराठी"
              ng-model="content.marInstruction" required ></textarea>
                    <div ng-messages="frmContentUpload.marInstruction.$error" ng-if="frmContentUpload.marInstruction.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.marInstruction.$error.required">Please enter Marathi instruction</span>
                    </div>
                </div>
            </div>
        </div>

        <div class = "hr"> </div>

        <div class="upload-container">

            <div class="upload-title">Content Link/Upload</div>
            <div class="col-md-8">
                <div ng-if="!content.fileTypeCodeID && !isContentTypeSelfLearning()">
                    Please select a content type to upload a file or enter a video link.
                </div>

                <div class="form-group" ng-class="{'has-error': frmContentUpload.txtFileUrl.$dirty && frmContentUpload.txtFileUrl.$invalid}">
                    <input type="text" class="form-control" id="txtFileUrl" name="txtFileUrl"
                           placeholder="Enter URL" ng-if="isFileTypeVideo() && content.fileTypeCodeID"
                           ng-model="inputs.fileName" required>
                    <div ng-messages="frmContentUpload.txtFileUrl.$error" ng-if="frmContentUpload.txtFileUrl.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.txtFileUrl.$error.required">File URL is required.</span>
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': frmContentUpload.fileUpload.$dirty && frmContentUpload.fileUpload.$invalid}">
                    <label for="fileUpload" class="btn teal-background upload-button" ng-if="!isFileTypeVideo() && content.fileTypeCodeID"> Upload</label> <span ng-if="!isFileTypeVideo() && content.fileTypeCodeID">{{myFile.name}}</span>
                    <input type="file" class="form-control" style="display:none" id="fileUpload" name="fileUpload"
                           file-model="myFile" accept="{{acceptedFileTypes[content.fileTypeCodeID]}}" ng-click="showAccepted()" />
                    <div ng-messages="frmContentUpload.fileUpload.$error" ng-if="frmContentUpload.fileUpload.$dirty">
                        <span class="error-message" ng-show="frmContentUpload.fileUpload.$error.required">File upload is required.</span>
                    </div>
                </div>
            </div>
        </div>

        <div class = "hr"> </div>

        <div class="upload-container">
            <input type="submit" value="Save To Drafts" class="btn btn-warning" ng-click="save()" />
            <input type="submit" value="Send For Review" class="btn btn-warning" ng-click="frmContentUpload.$invalid? setDirty(frmContentUpload) : sendForReview()" />

        </div>
</div>
</form>
</div>
</div>
